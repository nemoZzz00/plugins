!function(t,e){"function"==typeof define?define(e):"undefined"!=typeof module&&module.exports?module.exports=e():this[t]=e()}("Animate",function(){function t(e){"use strict";this.error=function(){},this.task=[];var n=this;setTimeout(function(){e(function(e){var r=n.task.shift();if("undefined"!=typeof r){var o=r(e);if(o instanceof t){for(var i in n.task)o.task.push(n.task[i]);o.error=n.error}else r=n.task.shift(),r&&r(o)}},function(t){n.error(t)})})}function e(t){if(!t)throw new Error("缺少操作元素");"static"==o.css(t,"position")&&console.warn("指定元素未设置定位属性"),this.option={ele:t}}var n={Linear:function(t,e,n,r){return n*t/r+e},Bounce:{easeIn:function(t,e,r,o){return r-n.Bounce.easeOut(o-t,0,r,o)+e},easeOut:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOut:function(t,e,r,o){return t<o/2?.5*n.Bounce.easeIn(2*t,0,r,o)+e:.5*n.Bounce.easeOut(2*t-o,0,r,o)+.5*r+e}},Quad:{easeIn:function(t,e,n,r){return n*(t/=r)*t+e},easeOut:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},easeInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}},Cubic:{easeIn:function(t,e,n,r){return n*(t/=r)*t*t+e},easeOut:function(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e},easeInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e}},Quart:{easeIn:function(t,e,n,r){return n*(t/=r)*t*t*t+e},easeOut:function(t,e,n,r){return-n*((t=t/r-1)*t*t*t-1)+e},easeInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e}},Quint:{easeIn:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},easeOut:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},easeInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e}},Sine:{easeIn:function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},easeOut:function(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e},easeInOut:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e}},Expo:{easeIn:function(t,e,n,r){return 0==t?e:n*Math.pow(2,10*(t/r-1))+e},easeOut:function(t,e,n,r){return t==r?e+n:n*(-Math.pow(2,-10*t/r)+1)+e},easeInOut:function(t,e,n,r){return 0==t?e:t==r?e+n:(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(-Math.pow(2,-10*--t)+2)+e}},Circ:{easeIn:function(t,e,n,r){return-n*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOut:function(t,e,n,r){return n*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOut:function(t,e,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e}},Back:{easeIn:function(t,e,n,r,o){return void 0==o&&(o=1.70158),n*(t/=r)*t*((o+1)*t-o)+e},easeOut:function(t,e,n,r,o){return void 0==o&&(o=1.70158),n*((t=t/r-1)*t*((o+1)*t+o)+1)+e},easeInOut:function(t,e,n,r,o){return void 0==o&&(o=1.70158),(t/=r/2)<1?n/2*(t*t*(((o*=1.525)+1)*t-o))+e:n/2*((t-=2)*t*(((o*=1.525)+1)*t+o)+2)+e}},Elastic:{easeIn:function(t,e,n,r,o,i){if(0==t)return e;if(1==(t/=r))return e+n;i||(i=.3*r);var a;return!o||o<Math.abs(n)?(o=n,a=i/4):a=i/(2*Math.PI)*Math.asin(n/o),-(o*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/i))+e},easeOut:function(t,e,n,r,o,i){if(0==t)return e;if(1==(t/=r))return e+n;i||(i=.3*r);var a;return!o||o<Math.abs(n)?(o=n,a=i/4):a=i/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/i)+n+e},easeInOut:function(t,e,n,r,o,i){if(0==t)return e;if(2==(t/=r/2))return e+n;i||(i=r*(.3*1.5));var a;return!o||o<Math.abs(n)?(o=n,a=i/4):a=i/(2*Math.PI)*Math.asin(n/o),t<1?-.5*(o*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/i))+e:o*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/i)*.5+n+e}}},r={1:n.Linear,2:n.Bounce.easeIn,3:n.Bounce.easeOut,4:n.Bounce.easeInOut,5:n.Quad.easeIn,6:n.Quad.easeOut,7:n.Quad.easeInOut,8:n.Cubic.easeIn,9:n.Cubic.easeOut,10:n.Cubic.easeInOut,11:n.Quart.easeIn,12:n.Quart.easeOut,13:n.Quart.easeInOut,14:n.Quint.easeIn,15:n.Quint.easeOut,16:n.Quint.easeInOut,17:n.Sine.easeIn,18:n.Sine.easeOut,19:n.Sine.easeInOut,20:n.Expo.easeIn,21:n.Expo.easeOut,22:n.Expo.easeInOut,23:n.Circ.easeIn,24:n.Circ.easeOut,25:n.Circ.easeInOut,26:n.Back.easeIn,27:n.Back.easeOut,28:n.Back.easeInOut,29:n.Elastic.easeIn,30:n.Elastic.easeOut,31:n.Elastic.easeInOut},o={getCss:function(t,e){var n=null,r=null;if("getComputedStyle"in window)n=window.getComputedStyle(t,null)[e];else if("opacity"==e){var o=t.currentStyle.filter,r=/alpha\(opacity\s*=\s*(\d+(?:\.\d+)?)\)/;n=r.test(o)?RegExp.$1/100:1}else n=t.currentStyle[e];return r=/^[+-]?(\d|[1-9]\d+)(\.\d+)?(px|pt|em|rem)?$/,"auto"==n&&console.warn(t.tagName+"元素的属性:"+e+"的值为auto，请显式的设置该属性的默认值"),r.test(n)?parseFloat(n):n},setCss:function(t,e,n){if("float"==e)return t.style.float=n,t.style.cssFloat=n,void(t.style.styleFloat=n);if("opacity"===e)return t.style.opacity=n,void(t.style.filter="alpha(opacity="+100*n+")");var r=/^width|height|top|right|bottom|left|fontSize|((margin|padding)(top|right|bottom|left)?)$/i,o=/[+-]?(\d|[1-9]\d+)(\.\d+)?$/;r.test(e)&&o.test(n)&&(n+="px"),t.style[e]=n},setGroupCss:function(t,e){if("[object Object]"===e.toString())for(var n in e)this.setCss(t,n,e[n])},css:function(t){var e=arguments[1];return"string"==typeof e?"undefined"!=typeof arguments[2]?void this.setCss(t,e,arguments[2]):this.getCss(t,e):(e=e||0,void("[object Object]"===e.toString()&&this.setGroupCss(t,e)))},assign:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}};return t.prototype={resolve:function(t){return this.then(t),this},reject:function(t){return this._catch(t),this},then:function(t,e){if(!t instanceof Function)throw new Error("params must be a function");if(e&&!e instanceof Function)throw new Error("params must be a function");return this.task.push(t),this.error=e,this},_catch:function(t){if(!t instanceof Function)throw new Error("params must be a function");this.error=t}},e.prototype={go:function(e){var n=this;return new t(function(t){if("undefined"==typeof e.target)throw new Error("缺少目标参数");var i={ele:n.option.ele,duration:2e3,effect:1,step:15};n.option=o.assign(i,e),/^[1-9]$|^[1-2]\d$|^3[0-1]$/.test(n.option.effect)||(n.option.effect=1),clearInterval(n.option.ele.timer);var a=0,u={},s={};for(var c in n.option.target)u[c]=o.css(n.option.ele,c),s[c]=parseFloat(n.option.target[c])-u[c];n.option.ele.timer=setInterval(function(){if(a>=n.option.duration)return o.css(n.option.ele,n.option.target),clearInterval(n.option.ele.timer),n.option.finish&&n.option.finish.call(n.option.ele),void t();a+=n.option.step;for(var e in s){var i=r[n.option.effect](a,u[e],s[e],n.option.duration);o.css(n.option.ele,e,i)}},n.option.step)})},stop:function(){clearInterval(this.option.ele.timer)}},e});